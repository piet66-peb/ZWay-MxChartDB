<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta charset="utf-8">
      <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
      <meta http-equiv="Pragma" content="no-cache">
      <meta http-equiv="Expires" content="0">

      <!--<base href="/ZAutomation/api/v1/load/modulemedia/MxChartDB/HTML/">-->
      <title>Chart Administration</title>
      <link rel="shortcut icon" href="../icon.png">
      <script src='js/chart-index-lang.js'></script>
      <script src='js/ch_utils.js'></script>
      <script src='../constants.js'></script>
      <script src='js/chart-index.js'></script>
      <style type="text/css">
         body {
         margin: 0 100px;
         font-family: sans-serif;
         }
         textarea#json-input {
         width: 100%;
         height: 200px;
         }
         pre#json-renderer {
         border: 1px solid #aaa;
         padding: 0.5em 1.5em;
         }
      </style>
      <style type="text/css">
         table {
         width: 95%;
         }
         th {
         background-color: #666;
         color: #fff;
         }
         tr {
         background-color: #fffbf0;
         color: #000;
         }
         tr:nth-child(odd) {
         background-color: #e4ebf2;
         }
         tr:hover {
         background-color: #dfac20;
         color: #fff;
         }
      </style>
   </head>
   <body>
      <script>
        console.log(window.location);
        console.log('pathname='+window.location.pathname);
        console.log('parameter='+window.location.search);
      </script>          
      <br>
      <div id="notification">
         <div id="notification-message">Reading chart-index.js...</div>
      </div>
      <div>
          <input type="text" id="myInput" onkeyup="myFunction()" 
                placeholder="Search for names..">      
          <input type="checkbox" id="operate" checked onchange="display(this)">
          <label id="operateT">operate charts</label>
          <input type="checkbox" id="orphaned" checked onchange="display(this)">
          <label id="orphanedT">orphaned charts</label>
          <input type="checkbox" id="snapshots" onchange="display(this)">
          <label id="snapshotsT">snapshots</label>
      </div>
      <pre id="json-renderer"></pre>
      <input type="file" accept=".json" id="selectFile">

      <script>
        function myFunction() {
          var input, filter, table, tr, td, i, txtValue, doDisp;
          input = document.getElementById("myInput");
          filter = input.value.toUpperCase();
          table = document.getElementById("myTable");
          tr = table.getElementsByTagName("tr");
          for (i = 1; i < tr.length; i++) {
              doDisp = 0;
              for (j = 0; j < 2; j++) {
                  td = tr[i].getElementsByTagName("td")[j];
                  if (td) {
                    txtValue = td.textContent || td.innerText;
                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                      doDisp += 1;
                    }
                  }   
              }
                  if (doDisp) {
                    tr[i].style.display = "";
                  } else {
                    tr[i].style.display = "none";
                  }
          }
        }
      </script>

   </body>
</html>

